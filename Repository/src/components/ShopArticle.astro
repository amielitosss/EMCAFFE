---
import { useTranslations, getLangFromUrl } from '@/i18n/utils';

interface Props {
	title: string;
	img: string;
	details: string;
}

const { title, img, details } = Astro.props;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

function parseBoldToHTML(text: string) {
  return text.replace(/\*\*(.*?)\*\*/g, '<br><strong>$1</strong>');
}

---

<style>
  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeUp {
    animation: fadeUp 0.7s ease-out forwards;
  }
</style>


<div class="flex flex-col gap-y-8 md:w-2/5">
	<div class="flex w-full items-center justify-center">
		<a href={details} class="w-1/2">
			<img
				class="h-auto w-full rounded-lg border-2 border-[#5C3F32] bg-white"
				src={`${img}-1.png`}
			/>
		</a>
	</div>
    <p
  class="text-center font-[Chalkduster] text-xl font-semibold text-[#5C3F32] md:text-2xl opacity-0 translate-y-3 animate-fadeUp"
    set:html={parseBoldToHTML(title)}
>
</p>


	<a
		href={details}
		class="self-center rounded-lg bg-[#5C3F32] px-4 py-2 text-center text-sm text-white hover:bg-[#A47343] md:text-base "
	>
		{t('shop.details')}
	</a>
</div>